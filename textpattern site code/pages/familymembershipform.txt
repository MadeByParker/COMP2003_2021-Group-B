<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css">

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap">
    <link rel='stylesheet' href='https://fonts.googleapis.com/icon?family=Material+Icons'>
    <link rel='stylesheet' href='https://drive.google.com/uc?export=view&id=1rIaHYw4PJK2aDg3yWV5nfYumLF9_HQBo'>
    <link rel='stylesheet' href='https://drive.google.com/uc?export=view&id=1Kw7o0TXmjKxqmAPWhOVtbu31Tt1Nw9iz'>
    <title>South Hams Society Membership</title>
</head>
<body>
    <header>
            <nav class="navbar sticky-top navbar-expand-lg navbar-light" id="navbar-custom">
            <a class="navbar-brand" href="../Index/Index.html"><txp:image id="12" style="width: 50px; height: 50px;"/> <txp:thumbnail /></a>
            <div class="Name" href="#" >South Hams Society</div>
            <button style="border: none;" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="" role="button"><i class="fa-solid fa-circle-chevron-down" style="font-size: 24px; color: white;"></i></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="current-nav" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          Home
                        </a>
                        <div class="dropdown-menu" aria-labelledby="current-nav">
                          <a class="dropdown-item" href="./">Home</a>
                          
                          <a class="dropdown-item" href="./index.php?s=membershipinfo">Membership</a>
                          <a class="dropdown-item" href="./login.html">Login</a>
                          
                        </div>
                      </li>
                      <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          About
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                          <a class="dropdown-item" href="./index.php?s=whoweare">Who we are</a>
                          <a class="dropdown-item" href="../About/OurHistory.html">Our History</a>
                          <a class="dropdown-item" href="../About/OurAchievements.html">Our Achievements</a>
                          <a class="dropdown-item" href="../About/WhatAreWeDoing.html">What Are We Doing?</a>
                          <a class="dropdown-item" href="../Contact/OurSupporters.html">Our Supporters</a>
                        </div>
                      </li>
                      <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          The South Hams
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                          <a class="dropdown-item" href="./index.php?s=ourlandscape">Our Landscape</a>
                          <a class="dropdown-item" href="../Landscapes/OurCoast&Estuaries.html">Our Coast & Estuaries</a>
                          <a class="dropdown-item" href="../Landscapes/Our Economy.html">Our Economy</a>
                          <a class="dropdown-item" href="../Landscapes/DevonsAONB.html">South Devon AONB</a>
                          <a class="dropdown-item" href="../Landscapes/DevonsLandscapes.html">Devon's Landscapes</a>
                        </div>
                      </li>
                      <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          Planning
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                          <a class="dropdown-item" href="./index.php?s=planningintro">Introduction</a>
                          <a class="dropdown-item" href="../Planning/PlanningProcess.html">The Planning Process</a>
                          <a class="dropdown-item" href="../Planning/HowToObject.html">How to Object</a>
                          <a class="dropdown-item" href="../Planning/MaterialConsiderations.html">Material Considerations</a>
                          <a class="dropdown-item" href="../Planning/Objections.html">Our Objections</a>
                          <a class="dropdown-item" href="../Planning/Campaigns.html">Campaigning Tips</a>
                        </div>
                      </li>
                      <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          Trees
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                          <a class="dropdown-item" href="./index.php?s=treesandhedgerows">Trees and Hedgerows</a>
                          <a class="dropdown-item" href="../Trees/Woodlands.html">Our Woodlands</a>
                          <a class="dropdown-item" href="../Trees/WhyTreesMatter.html">Why Trees Matter</a>
                          <a class="dropdown-item" href="../Trees/ProtectingTrees.html">Protecting Trees</a>
                        </div>
                      </li>
                <li class="nav-item">
                    <a class="nav-link" href="./index.php?s=events">Events <i class="fas fa-chevron-down"></i></a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      Contact
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">

                      <a class="dropdown-item" href="./index.php?s=contact">Contact</a>
                      <a class="dropdown-item" href="../Contact/Councillors.html">Our Councillors</a>

                      <a class="dropdown-item" href="../Contact/TreeWardens.html">Tree Wardens</a>
                      <a class="dropdown-item" href="../Contact/OtherLinks.html">Other Links</a>
                    </div>
                  </li>
                </ul>
            </div>
        </nav>
    </header>

    <main role="main" class="main">
        <section class="Individual-Form-section">
          <div class="title">
                <h1>Family Membership Form</h1>    
            </div>  
            <div class="card">
              <div class="col-md-12 order-md-1">
                  <form id="signupform" method="POST" action="<?php echo $_SERVER['PHP_SELF']; ?>">
                    <div class="registration">

                      <div class="subtitle" style="font-weight: 900;">
                        <h3>Basic Information</h3>
                      </div> 
                            <div class="mb-3 form-group">
                                <label for="FormSelectTitle">Title<span style="color: red"> * </span><i class="fas fa-info-circle"></i></label>
                                <select class="form-control" id="FormSelectTitle">
                                    <option disabled selected>Title</option>
                                    <option value="1">Mr</option>
                                    <option value="2">Mrs</option>
                                    <option value="3">Ms</option>
                                    <option value="4">Miss</option>
                                    <option value="5">Dr</option>
                                    <option value="6">Professor</option>
                                </select>
                            </div>
                                <div class="mb-3 form-group">
                                    <label for="firstNameInput">First Name</label>
                                    <input type="text" class="form-control" id="firstNameInput" placeholder="First Name" value="" required>
                                    <div class="invalid-feedback">
                                        Please enter your first name.
                                    </div>
                                </div>
                                <div class="mb-3 form-group">
                                    <label for="lastNameInput">Last Name</label>
                                    <input type="text" class="form-control" id="lastNameInput" placeholder="Last Name" value="" required>
                                    <div class="invalid-feedback">
                                        Please enter your last name.
                                    </div>
                                </div>
                

                            <div class="mb-3 form-group">
                                <label for="AddressInput">Address</Address><span style="color: red"> * </span><i class="fas fa-info-circle"></i></label>
                                <input type="text" class="form-control" id="AddressInput" placeholder="Address" value="" required>
                                <div class="invalid-feedback">
                                Please enter a valid address.
                                </div>
                            </div>

                            <div class="row">
                              <div class="col-md-6 mb-3 form-group">
                              <label for="TownInput">Town / City</label>
                              <input type="text" class="form-control" id="TownInput" placeholder="Town / City" value="" required>
                              <div class="invalid-feedback">
                                  Valid Town is required.
                              </div>
                              </div>
                              <div class="col-md-6 mb-3 form-group">
                              <label for="PostCodeInput">Post Code</label>
                              <input type="text" class="form-control" id="PostCodeInput" placeholder="Post Code" value="" required>
                              <div class="invalid-feedback">
                                  Valid Post Code is required.
                              </div>
                              </div>
                          </div>

                            <div class="subtitle" style="font-weight: 900;">
                              <h3>Payment and Contact Information</h3>
                            </div> 

                            <div class="mb-3 form-group">
                                <label for=FormSelectPayment>Payment Method<span style="color: red"> * </span><i class="fas fa-info-circle"></i></label>
                                <select class="form-control" id="FormSelectPayment">
                                    <option disabled selected>Payment Method</option>
                                    <option value="1">Paypal</option>
                                    <option value="2">Standing Order</option>
                                </select>
                            </div>

                            <div class="mb-3 form-group">
                                <label for="FormSelectContact">Preferred method of contact<span style="color: red"> * </span><i class="fas fa-info-circle"></i>
                                <br>
                                (you can change your preferred method of contact at any time)</label>
                                <select class="form-control" id="FormSelectContact">
                                    <option disabled selected>Method of Contact</option>
                                    <option value="1" default selected>Email</option>
                                    <option value="2">Text Message</option>
                                    <option value="3">Mail</option>
                                </select>
                            </div>

                            
                            <div class="mb-3 form-group">
                              <label for="typePhone">Phone Number<span style="color: red"> * </span><i class="fas fa-info-circle"></i></label>
                              <input type="tel" id="typePhone" class="form-control" placeholder="Phone Number" value="" required/>
                              <div class="invalid-feedback">
                                  Please enter a phone number.
                              </div>
                          </div>

                          <div class="mb-3 form-group">
                            <label for="EmailInput">Email Address</Address><span style="color: red"> * </span><i class="fas fa-info-circle"></i></label>
                            <input type="text" class="form-control" id="EmailInput" placeholder="Email Address" value="" required>
                            <div class="invalid-feedback">
                              Please enter a valid email address.
                            </div>
                          </div>

                            <div class="subtitle" style="font-weight: 900;">
                                <h3>Your Interests</h3>
                            </div>  

                            <div class="mb-3 form-group">
                                <label for="myMulti">Main Interest<span style="color: red"> * </span><i class="fas fa-info-circle"></i></label>
                                <select multiple="multiple" id="myMulti" id="myMulti">
                                    <option value="1">Wildlife</option>
                                    <option value="2">Economy</option>
                                    <option value="3">Landscape</option>
                                    <option value="4">Trees</option>
                                    <option value="5">Other</option>
                                </select>
                            </div>

                            <div class="mb-3 form-group">
                                <label for="otherInterestsInput">Other Interests can be typed here</label>
                                <input type="text" class="form-control" id="otherInterestsInput" placeholder="Other Interests" value="" required>
                                <div class="invalid-feedback">
                                    Please enter any other interests
                                </div>
                            </div>

                      <div class="mb-3 form-group">
                          <div class="add-person">
                            <label for="addPerson"></label>
                            <input type="button" class="btn btn-outline-primary" id="addPerson" value="Add Second Adult">
                          </div>
                      </div>

                      <div class="addedPerson" id="addedPerson">
                          
                      </div>
                          
                      </div>

                      <div class="mb-3 form-group">
                          <label for="verification">Are you a robot?<span style="color: red"> * </span><i class="fas fa-info-circle"></i></label>
                          <input type="text" class="form-control" id="verification" placeholder="Please verify yourself." required>
                          <div class="invalid-feedback">
                            Please verify yourself.
                          </div>
                      </div>

                      <div class="mb-3 form-group">
                        <div class="custom-control custom-checkbox">
                          <input type="checkbox" class="custom-control-input" id="customCheck1">
                          <label class="custom-control-label" for="customCheck1">Check this custom checkbox if you want to pay by standing order</label>
                        </div>
                      </div>    
                    </div>
                    <div class="Standing-Order-Individual-Section" id="standing-order" style="padding-top:20px; display: none">
                      <div class="subtitle">
                        <h1>Standing Order Mandate</h1>    
                        <h4>Only if you are paying by a Standing Order Mandate<br>
                            Please pay the South Hams Society <br>
                            Sort Code: 53-61-17 Account Number: 08607397 at Natwest <br>
                            now and on the 1st January hereafter</h4>
                      </div>  
                  
                      <div class="mb-3 form-group">
                          <label for="ammountInput">Amount (£)<span style="color: red"> * </span><i class="fas fa-info-circle"></i></label>
                          <input type="text" class="form-control" id="amountInput" placeholder="Amount Paying" required>
                          <div class="invalid-feedback">
                            Please enter the amount needed to pay.
                          </div>
                      </div>
                      <div class="subtitle" style="font-weight: 900;">
                          <h3>Your Bank Details</h3>
                      </div>  
      
                      <div class="mb-3 form-group">
                          <label for="bankNameInput"><span>Name of Bank</span><span style="color: red"> * </span><span><i class="fas fa-info-circle"></i></span></label>
                          <input type="text" class="form-control" id="bankNameInput" placeholder="Bank Name" required>
                          <div class="invalid-feedback">
                            Please enter the name of the bank you want to pay.
                          </div>
                      </div>
                      <div class="row">
                          <div class="col-md-6 mb-3 form-group">
                          <label for="sortCodeInput">Sort Code</label>
                          <input type="text" class="form-control" id="sortCodeInput" placeholder="Sort Code" value="" required>
                          <div class="invalid-feedback">
                              Valid Sort Code is required.
                          </div>
                          </div>
                          <div class="col-md-6 mb-3 form-group">
                          <label for="AccountNoInput">Bank Number</label>
                          <input type="text" class="form-control" id="AccountNoInput" placeholder="Bank Number" value="" required>
                          <div class="invalid-feedback">
                              Valid Account Number is required.
                          </div>
                          </div>
                      </div>
      
                      <div class="mb-3 form-group">
                          <label for="BankAddressInput">Bank's Address<span style="color: red"> * </span><i class="fas fa-info-circle"></i></label>
                          <input type="text" class="form-control" id="BankAddressInput" placeholder="Bank's Address" value="" required>
                          <div class="invalid-feedback">
                            Please enter the bank's address.
                          </div>
                      </div>

                    </div>
                  </form>
                </div>
                <div class="button-group">
                  <a href="" class="button" onClick="getPHP()" id="FamilyMembershipSubmit">Submit Form</a>
                  <a target="_blank" href="../../Assets/Externals/Membership-form.pdf" class="button" id="Download">Download Form</a>
              </div>
          </section>

    </main>

    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="footer-column">
                    <txp:image id="12" style="width: 50px; height: 50px;"/> <txp:thumbnail />
                </div>
                <div class="footer-column">
                    <a class="nav-link" href="#"><i class="far fa-copyright"></i> South Hams Society</a>
                </div>
                <div class="footer-column">
                    <a class="nav-link" href="../../Assets/Externals/South-Hams-Society-Privacy-Statement-updated-131121.pdf"><i class="fas fa-user-shield"></i> Our Privacy Policy</a>
                </div>
                <div class="footer-column">
                    <a class="nav-link" href="#"><i class="far fa-envelope"></i> Get in Touch</a>
                </div>
                <div class="footer-column">
                    <a class="nav-link" href="#"><i class="fas fa-sign-in-alt"></i> Join Membership</a>
                </div>
                <div class="footer-column">
                    <div class="icon facebook">
                        <div class="tooltip">Facebook</div>
                        <a href="https://www.facebook.com/SouthHamsSociety/" target="_blank"><span ><i class="fab fa-facebook-f"></i></span></a>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/dc3bcb73c6.js" crossorigin="anonymous"></script>

<txp:php>
function newuser(){

$conn = mysqli_connect("localhost", "root", "", "comp2003");

if($conn === false){
    die("ERROR: Could not connect. " 
        . mysqli_connect_error());
}

$title = $_REQUEST['title'];
$first_name =  $_REQUEST['first_name'];
$last_name = $_REQUEST['last_name'];
$phoneNum = $_REQUEST['phone_number'];
$password =  $_REQUEST['password'];
$address = $_REQUEST['address'];
$email = $_REQUEST['email'];
$paymentMethod = $_REQUEST['payment_method'];
$contactMethod = $_REQUEST['contact_method'];
$interests = $_REQUEST['interests'];


$sql = "INSERT INTO users VALUES('$title','$first_name','$last_name','$phoneNum','$password','$address','$email','$paymentMethod','$contactMethod','$interests')";

if(mysqli_query($conn, $sql)){
    echo "<h3>data stored in a database successfully." 
        . " Please browse your localhost php my admin" 
        . " to view the updated data</h3>"; 

    echo nl2br("\n$title \n$first_name\n $last_name\n "
        . "$phoneNum\n $password\n $address\n $email \n $paymentMethod \n '$contactMethod' \n $interests\n");
} else{
    echo "ERROR: Hush! Sorry $sql. " 
        . mysqli_error($conn);
}
  
// Close connection
mysqli_close($conn);
}
</txp:php>


  </body>
</html>